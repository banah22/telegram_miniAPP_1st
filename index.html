<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Mini App</title>
  <style>
    #output {
      white-space: pre-wrap; /* For proper line breaks */
    }
display: flex;
      flex-direction: column;
      align-items: center; /* Центрируем элементы по горизонтали */
      justify-content: center; /* Центрируем элементы по вертикали */
      height: 100vh;
      margin: 0;
      background-color: #f0f0f0; /* Цвет фона (можно изменить) */
    }

    .user-info {
      display: flex;
      align-items: center;
      margin-bottom: 20px; /* Отступ снизу */
    }

    .user-info img {
      width: 50px; /* Размер аватара */
      height: 50px;
      border-radius: 50%; /* Делаем аватар круглым */
      margin-right: 10px; /* Отступ справа */
    }

    .user-info span {
      font-weight: bold; /* Делаем имя пользователя жирным */
    }

    button {
      padding: 10px 20px;
      font-size: 16px;
      background-color: #4CAF50; /* Зеленый цвет кнопки */
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }
    
  </style>
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>

<body>

  <div id="output"></div> 
  
  <div class="user-info">
    <img id="userAvatar" src="placeholder.jpg" alt="User Avatar">
    <span id="userName">User Name</span>
  </div>


  <button onclick="start()">Start</button>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const outputDiv = document.getElementById('output');

      // Initialize Telegram Web App
      Telegram.WebApp.ready();

      function logToMiniApp(message) {
        outputDiv.textContent += message + '\n';
      }

      // Accessing user data from initData
      const initData = Telegram.WebApp.initData;
      const params = new URLSearchParams(initData);
      const userData = Object.fromEntries(params);

      <comment>
      if (userData.user) {
        const user = JSON.parse(userData.user); 
        logToMiniApp("User ID: " + user.id);
        logToMiniApp("First Name: " + (user.first_name || "Имя не указано"));
        logToMiniApp("Last Name: " + (user.last_name || "Фамилия не указана"));
        logToMiniApp("Username: " + (user.username || "Имя пользователя не указано"));
      } else {
        logToMiniApp("User data not available.");
      }
      </comment>
  

     if (userData.user) {
      document.getElementById('userName').textContent = userData.user.first_name || "Имя не указано";
      if (user.photo_url) {
        document.getElementById('userAvatar').src = userData.user.photo_url;
      }
    });
  </script>

</body>
</html>
